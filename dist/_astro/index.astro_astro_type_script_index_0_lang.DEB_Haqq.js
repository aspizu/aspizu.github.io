class h{initialLifeSpan;lifeSpan;position;image;constructor(t,e,i,A){this.initialLifeSpan=A,this.lifeSpan=A,this.position={x:t,y:e},this.image=i}update(t){this.lifeSpan--;const e=Math.max(this.lifeSpan/this.initialLifeSpan,0);t.globalAlpha=e,t.drawImage(this.image,this.position.x,this.position.y)}get dead(){return this.lifeSpan<0}}class o{constructor(t={}){this.options=t,this.hasWrapper=!!t.element,this.element=t.element??document.body,this.randomDelay=!!t.randomDelay,this.minDelay=t.minDelay??5,this.maxDelay=t.maxDelay??50,this.lifeSpan=t.lifeSpan??20,this.image.src=t.image??"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAATCAYAAACk9eypAAAAAXNSR0IArs4c6QAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAhGVYSWZNTQAqAAAACAAFARIAAwAAAAEAAQAAARoABQAAAAEAAABKARsABQAAAAEAAABSASgAAwAAAAEAAgAAh2kABAAAAAEAAABaAAAAAAAAAEgAAAABAAAASAAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAADKADAAQAAAABAAAAEwAAAAAChpcNAAAACXBIWXMAAAsTAAALEwEAmpwYAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAABqElEQVQoFY3SPUvDQBgH8BREpRHExYiDgmLFl6WC+AYmWeyLg4i7buJX8DMpOujgyxGvUYeCgzhUQUSKKLUS0+ZyptXh8Z5Ti621ekPyJHl+uftfomhaf9Ei5JyxXKfynyEA6EYcLHpwyflT958GAQ7DTABNHd8EbtDbEH2BD5QEQmi2mM8P/Iq+A0SzszEg+3sPjDnDdVEtQKQbMUidHD3xVzf6A9UDEmEm+8h9KTqTVUjT+vB53aHrCbAPiceYq1dQI1Aqv4EhMll0jzv+Y0yiRgCnLRSYyDQHVoqUXe4uKL9l+L7GXC4vkMhE6eW/AOJs9k583ORDUyXMZ8F5SVHVVnllmPNKSFagAJ5DofaqGXw/gHBYg51dIldkmknY3tguv3jOtHR4+MqAzaraJXbEhqHhcQlwGSOi5pytVQHZLN5s0WNe8HPrLYlFsO20RPHkImxsbmHdLJFI76th7Z4SeuF53hTeFLvhRCJRCTKZKxgdnRDbW+iozFJbBMw14/ElwGYc0egMBMFzT21f5Rog33Z7dX02GBm7WV5ZfT5Nn5bE3zuCDe9UxdTpNvK+5AAAAABJRU5ErkJggg==",this.interval=this.nextDelay(),this.init()}element;hasWrapper;canvas;ctx;raf=0;width=window.innerWidth;height=window.innerHeight;cursor={x:this.width/2,y:this.height/2};particles=[];image=new Image;randomDelay;minDelay;maxDelay;lifeSpan;lastAdd=Date.now();interval=0;init(){this.canvas=document.createElement("canvas");const t=this.canvas.getContext("2d");if(!t)throw new Error("2D context unavailable");this.ctx=t,Object.assign(this.canvas.style,{top:"0px",left:"0px",pointerEvents:"none",zIndex:String(this.options.zIndex??9999999999),position:this.hasWrapper?"absolute":"fixed"}),this.hasWrapper?(this.element.appendChild(this.canvas),this.resizeToElement()):(document.body.appendChild(this.canvas),this.resizeToWindow()),this.bind(),this.loop()}destroy(){cancelAnimationFrame(this.raf),this.canvas.remove(),this.unbind()}bind(){this.element.addEventListener("mousemove",this.onMouseMove),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!0}),this.element.addEventListener("touchstart",this.onTouchMove,{passive:!0}),window.addEventListener("resize",this.onResize)}unbind(){this.element.removeEventListener("mousemove",this.onMouseMove),this.element.removeEventListener("touchmove",this.onTouchMove),this.element.removeEventListener("touchstart",this.onTouchMove),window.removeEventListener("resize",this.onResize)}onResize=()=>{this.hasWrapper?this.resizeToElement():this.resizeToWindow()};resizeToWindow(){this.width=window.innerWidth,this.height=window.innerHeight,this.canvas.width=this.width,this.canvas.height=this.height}resizeToElement(){const t=this.element;this.canvas.width=t.clientWidth,this.canvas.height=t.clientHeight}onTouchMove=t=>{for(const e of Array.from(t.touches))this.addParticle(e.clientX,e.clientY)};onMouseMove=t=>{if(this.randomDelay){if(this.lastAdd+this.interval>Date.now())return;this.lastAdd=Date.now(),this.interval=this.nextDelay()}if(this.hasWrapper){const e=this.element.getBoundingClientRect();this.cursor.x=t.clientX-e.left,this.cursor.y=t.clientY-e.top}else this.cursor.x=t.clientX,this.cursor.y=t.clientY;this.addParticle(this.cursor.x,this.cursor.y)};nextDelay(){return Math.floor(Math.random()*(this.maxDelay-this.minDelay+1))+this.minDelay}addParticle(t,e){this.particles.push(new h(t,e,this.image,this.lifeSpan))}update(){if(this.particles.length){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(const t of this.particles)t.update(this.ctx);this.particles=this.particles.filter(t=>!t.dead),this.particles.length||this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}}loop=()=>{this.update(),this.raf=requestAnimationFrame(this.loop)}}new o;function r(){const s=document.body.scrollHeight-window.innerHeight,t=128,e=s-window.scrollY,i=Math.max(0,Math.min(1,1-e/t)),A=Math.round(141*i),n=Math.round(48*i),a=Math.round(48*i);document.body.style.backgroundColor=`rgb(${A}, ${n}, ${a})`}window.addEventListener("scroll",r);
